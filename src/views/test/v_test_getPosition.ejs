<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>CAR MATCH APP</title>
</head>

<body>
  <div id="position-display">取得中</div>
  <script>
    // GPS センサの値が変化したら何らか実行する geolocation.watchPosition メソッド
    navigator.geolocation.watchPosition((position) => {
      let latitude_i_y = position.coords.latitude;            // 緯度を取得
      let longitude_k_x = position.coords.longitude;           // 経度を取得
      let accuracy = position.coords.accuracy;            // 緯度・経度の精度を取得
      displayData(latitude_i_y, longitude_k_x, accuracy);                    // displayData 関数を実行
    }, (error) => {                                     // エラー処理（今回は特に何もしない）
    }, {
      enableHighAccuracy: true                        // 高精度で測定するオプション
    });

    // データを表示する displayData 関数
    const displayData = (latitude_i_y, longitude_k_x, accuracy) => {
      var txt = document.getElementById("position-display");       // データを表示するdiv要素の取得
      txt.innerHTML = "緯度:" + latitude_i_y + " 経度 " + longitude_k_x + "<br>"  // データ表示
        + "精度: " + accuracy;
    }
  </script>
</body>

</html>
